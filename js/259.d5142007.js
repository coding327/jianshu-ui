"use strict";(self["webpackChunkjianshu_ui"]=self["webpackChunkjianshu_ui"]||[]).push([[259],{7259:function(a,e,r){r.r(e),r.d(e,{default:function(){return c}});var t=function(){var a=this,e=a._self._c;return e("div",[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:a.action,name:"myfile",headers:a.headers,"show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload}},[a.imageUrl?e("img",{staticClass:"avatar",attrs:{src:a.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)},s=[],i=(r(4603),r(7566),r(8721),r(1351)),u={data(){return{imageUrl:""}},computed:{action(){return(0,i.n)()?"/api/upload":"/upload"},headers(){return{authorization:(0,i.gf)()}}},methods:{handleAvatarSuccess(a,e){this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload(a){const e="image/jpeg"===a.type,r=a.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&r}}},l=u,n=r(1656),o=(0,n.A)(l,t,s,!1,null,"4338f318",null),c=o.exports}}]);
//# sourceMappingURL=259.d5142007.js.map